<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Input length feedback</title>
<style>
</style>
</head>
<body>
	<h1>Provide input length feedback</h1>
	<textarea maxlength="200" 
			  name="description" 
			  cols="40" 
			  rows="5" 
			  class="maxLength" 
			  placeholder="Description...">
	</textarea>
	<p>Characters remaining: <var id="feedback">200</var></p>


<script>
var max = 200;
var field;
var leftover;
function bindToMaxLength() {
	var maxLength, feedback;
	field = document.getElementsByClassName('maxLength')[0];
	var fieldTxt = field.value;
	field.addEventListener("keyup", function() {updateFeedback(this);} );
	leftover = document.getElementById("feedback");
	console.log("leftover is " + leftover);  
}
function updateFeedback(field) {
	var curr = field.value;
	console.log("current is " + curr + " type " + typeof(curr));
	var clen = curr.length;
	(clen < max) ? delta = max - clen : delta = 0;
	console.log("delta is " + delta);
	leftover.innerHTML = delta;
	if (curr > max) 
		leftover.innerHTML = "";
}   
document.addEventListener('DOMContentLoaded', bindToMaxLength);
</script>
</body>
</html>